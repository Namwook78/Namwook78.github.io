---
title: "[TIL]20211110"

categories:
  - "dec2021"
tags:
  - [TIL, react]

toc: true
toc_sticky: true

date: 2021-11-10
last_modified_at: 2021-11-10
---

## âœ” TO-DO

- python ì±Œë¦°ì§€
- useReducer

## ğŸ’¾ ë°°ìš´ ê²ƒ

```javascript
import React, { useReducer, useCallback } from "react";
import Table from "./Table";

const initialState = {
  winner: "",
  turn: "O",
  tableData: [
    ["", "", ""],
    ["", "", ""],
    ["", "", ""],
  ],
};
const SET_WINNER = "SET_WINNER";
const reducer = (state, action) => {
  switch (action.type) {
    case SET_WINNER:
      // state.winner = action.winner ë°”ë¡œ ê°’ì„ ë„£ìœ¼ë©´ ì•ˆë¨
      return {
        ...state,
        winner: action.winner,
      };
  }
};

const TicTacToe = () => {
  const [state, dispatch] = useReducer(reducer, initialState);

  const onClickTable = useCallback(() => {
    dispatch({ type: SET_WINNER, winner: "O" });
  }, []);

  return (
    <>
      <Table onClick={onClickTable} tableData={state.tableData} />
      {state.winner && <div>{state.winner}ë‹˜ì˜ ìŠ¹ë¦¬</div>}
    </>
  );
};

export default TicTacToe;
```

## ğŸ“ ë©”ëª¨

- ### reducer í•¨ìˆ˜

  - stateì˜ í•¨ìˆ˜ë¥¼ ìˆ˜ì • í•˜ëŠ” í•¨ìˆ˜

    ```javascript
    const reducer = (state, action) => {
      // state ìˆ˜ì • ë°©ë²•ì´ ë‹´ê²¨ ìˆìŒ
      switch (action.type) {
        case SET_WINNER:
          // state.winner = action.winner ë°”ë¡œ ê°’ì„ ë„£ìœ¼ë©´ ì•ˆë¨
          return {
            ...state,
            winner: action.winner,
          };
      }
    };
    ```

  - dispatchì—ì„œ ì•¡ì…˜ì„ ë°œìƒí•˜ë©´ reducer í•¨ìˆ˜ê°€ ì‹¤í–‰ <br /><br />

- ### dispatch

  - ì•¡ì…˜ì„ ë°œìƒ ì‹œí‚¤ëŠ” í•¨ìˆ˜

    ```javascript
    dispatch({ type: SET_WINNER, winner: "O" }); // typeì€ SET_WINNER, winnerëŠ” "O"ë¡œ ì•¡ì…˜ì„ ë°œìƒ
    ```

  - dispatchì˜ potato reduceí•¨ìˆ˜ì˜ action.potatoê°€ ê°™ì•„ì•¼ í•¨

    ```javascript
    const reducer = (state, action) => {
      switch (action.potato) {
      }
    };
    dispatch({ potato: SET_WINNER });
    ```

- ### useReducer

  ```javascript
  const initialState = {
    // ê¸°ë³¸ê°’
    winner: "",
    turn: "O",
    tableData: [
      ["", "", ""],
      ["", "", ""],
      ["", "", ""],
    ],
  };

  const [state, dispatch] = useReducer(reducer, initialState);
  ```

  - state : í˜„ì¬ ìƒíƒœ
  - dispatch : ì•¡ì…˜ì„ ë°œìƒì‹œí‚¤ëŠ” í•¨ìˆ˜
  - reducer : ë¦¬ë“€ì„œ í•¨ìˆ˜
  - initialState : í•´ë‹¹ ë¦¬ë“€ì„œì˜ ê¸°ë³¸ê°’

<br />

- ### result

  useReducerì˜ ë³€ê²½ëœ ìƒíƒœê°’ì„ ì ìš©í•˜ë ¤ë©´ state.winnerì™€ ê°™ì´ ì„ ì–¸(stateëŠ” useReducerì˜ state)
  <br />

  ```javascript
  return (
    <>
      <Table onClick={onClickTable} tableData={state.tableData} />
      {state.winner && <div>{state.winner}ë‹˜ì˜ ìŠ¹ë¦¬</div>}
    </>
  ```

## ì°¸ì¡°

- [ZeroCho ë¦¬ì•¡íŠ¸ ê°•ì˜](https://www.youtube.com/watch?v=ccKoutCkbao&list=PLcqDmjxt30RtqbStQqk-eYMK8N-1SYIFn&index=52)
